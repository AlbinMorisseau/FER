# ==========================================
# EXPERIMENT
# ==========================================
experiment:
  name: "vggface2_partial_fine_tune"
  project: "emotion_recognition"
  seed: 42

# ==========================================
# DATA
# ==========================================
data:
  data_dir: "data/aligned" 
  batch_size: 32           
  num_workers: 2
  img_size: 224            
  use_weighted_sampler: true

# ==========================================
# MODEL
# ==========================================
model:
  name: "vggface"
  num_classes: 7
  pretrained: true
  dropout: 0.5  

# ==========================================
# TRAINING
# ==========================================
training:
  epochs: 45          

# ==========================================
# REGULARIZATION
# ==========================================
regularization:

  label_smoothing: 0.1     

  mixup:
    alpha: 0.2 
    prob: 1.0              

  ema:
    enabled: false  

# ==========================================
# OPTIMIZATION
# ==========================================
optimizer:
  name: "adam"
  lr: 0.0001               
  weight_decay: 0.001  

scheduler:
  name: "plateau"
  mode: "min"
  factor: 0.1
  patience: 5

# ==========================================
# TRANSFER LEARNING
# ==========================================
transfer:
  mode: "freeze"
  freeze_level: "partial"  
  freeze_epochs: 45       
  backbone_lr: 0.0001      
  head_lr: 0.0001

# ==========================================
# EARLY STOPPING
# ==========================================
early_stopping:
  patience: 10
  monitor: "val/loss"

# ==========================================
# LOGGING
# ==========================================
logging:
  log_pr_curves: true
  log_topk: true
  log_tta: true